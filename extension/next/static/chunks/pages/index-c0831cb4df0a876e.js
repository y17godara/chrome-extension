(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5408)}])},5408:function(e,t,n){"use strict";n.r(t),n.d(t,{GlobalStateProvider:function(){return GlobalStateProvider},default:function(){return Home},useGlobalState:function(){return useGlobalState}});var o=n(5893),s=n(7294),r=n(4617),a=n.n(r);function Footer(){return(0,o.jsx)("footer",{className:a().footer,children:(0,o.jsxs)("p",{className:a().footerText,children:["Github Repository:"," ",(0,o.jsxs)("a",{href:"https://github.com/y17godara/next-chrome-extension-starter",target:"_blank",className:a().footerLink,children:["@y17godara",(0,o.jsx)("img",{src:"icons/icon16.png",alt:"Logo",width:16,height:16})]})]})})}var i=n(5348),l=n.n(i);function Header(){let{satus:e}=useGlobalState();return(0,o.jsxs)("header",{className:l().header,children:["for Content Creators"," ",e.settings.showVersion&&(0,o.jsx)("span",{className:l().version,children:"v1.0.0"})]})}function Popup(){let{activePage:e,navigateToPage:t,satus:n,setSatus:s}=useGlobalState();return(0,o.jsxs)("div",{className:"content",children:["index"===e&&(0,o.jsx)("div",{children:(0,o.jsx)("h1",{children:"Home"})}),"new"===e&&(0,o.jsx)("div",{children:(0,o.jsx)("h1",{children:"New"})}),"settings"===e&&(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"Settings"}),(0,o.jsx)("code",{children:(0,o.jsx)("pre",{children:JSON.stringify(n,null,2)})}),(0,o.jsx)("button",{onClick:()=>s(e=>({...e,settings:{...e.settings,showVersion:!e.settings.showVersion}})),children:"Toggle Version"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{onClick:()=>t("index"),children:"Home"}),(0,o.jsx)("button",{onClick:()=>t("new"),children:"New"}),(0,o.jsx)("button",{onClick:()=>t("settings"),children:"Settings"})]})]})}let c=(0,s.createContext)(),GlobalStateProvider=e=>{let{children:t}=e,[n,r]=(0,s.useState)("index"),[a,i]=(0,s.useState)({components:{},events:{data:{}},locale:{data:{}},storage:{data:{},type:"extension"},settings:{showVersion:!0}});(0,s.useEffect)(()=>{let loadState=async()=>{try{let e=await chrome.storage.local.get(["appState"]);e.appState&&(i(e.appState),r(e.appState.activePage||"index"))}catch(e){console.error("Error loading state:",e)}};loadState();let storageChangeListener=(e,t)=>{for(let[n,{oldValue:o,newValue:s}]of Object.entries(e))console.log('Storage key "'.concat(n,'" in namespace "').concat(t,'" changed.'),'Old value was "'.concat(JSON.stringify(o),'", new value is "').concat(JSON.stringify(s),'".'))};return chrome.storage.onChanged.addListener(storageChangeListener),()=>{chrome.storage.onChanged.removeListener(storageChangeListener)}},[]),(0,s.useEffect)(()=>{let saveState=async()=>{try{await chrome.storage.local.set({appState:{...a,activePage:n}}),console.log("State saved")}catch(e){console.error("Error saving state:",e)}};saveState()},[a,n]);let l=(0,s.useCallback)(e=>{["index","new","settings"].includes(e)&&r(e)},[]),d=(0,s.useCallback)(e=>{i(t=>({...t,settings:{...t.settings,...e}}))},[]),h=(0,s.useMemo)(()=>({activePage:n,navigateToPage:l,satus:a,setSatus:i,updateSettings:d}),[n,l,a,d]);return(0,o.jsx)(c.Provider,{value:h,children:t})},useGlobalState=()=>(0,s.useContext)(c);function HomeComponent(){let{satus:e,updateSettings:t}=useGlobalState();return(0,o.jsxs)("main",{className:"container",children:[(0,o.jsx)(Header,{}),(0,o.jsx)(Popup,{}),(0,o.jsx)("button",{onClick:()=>{t({showVersion:!e.settings.showVersion})},children:e.settings.showVersion?"Hide Version":"Show Version"}),(0,o.jsx)(Footer,{})]})}function Home(){return(0,o.jsx)(GlobalStateProvider,{children:(0,o.jsx)(HomeComponent,{})})}},4617:function(e){e.exports={footer:"Footer_footer__nR8_M",footerText:"Footer_footerText__2Z5sQ",footerLink:"Footer_footerLink__FSwqk"}},5348:function(e){e.exports={header:"Header_header__vV_Vo",headerText:"Header_headerText__O_4yl",headerLink:"Header_headerLink__KEwMI"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);