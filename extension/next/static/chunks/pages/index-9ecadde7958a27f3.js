(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5408)}])},5408:function(e,t,n){"use strict";n.r(t),n.d(t,{GlobalStateProvider:function(){return GlobalStateProvider},default:function(){return Home},useGlobalState:function(){return useGlobalState}});var r=n(5893),o=n(7294),s=n(4617),a=n.n(s);function Footer(){return(0,r.jsx)("footer",{className:a().footer,children:(0,r.jsxs)("p",{className:a().footerText,children:["Github Repository:"," ",(0,r.jsxs)("a",{href:"https://github.com/y17godara/next-chrome-extension-starter",target:"_blank",className:a().footerLink,children:["@y17godara",(0,r.jsx)("img",{src:"icons/icon16.png",alt:"Logo",width:16,height:16})]})]})})}var i=n(5348),c=n.n(i);function Header(){let{satus:e}=useGlobalState();return(0,r.jsxs)("header",{className:c().header,children:["for Content Creators"," ",e.settings.showVersion&&(0,r.jsx)("span",{className:c().version,children:"v1.0.0"})]})}function Popup(){let{activePage:e,navigateToPage:t,satus:n,setSatus:o,currentTabUrl:s,isExtension:a}=useGlobalState();return(0,r.jsxs)("div",{className:"content",children:["index"===e&&(0,r.jsx)("div",{children:(0,r.jsx)("h1",{children:"Home"})}),"new"===e&&(0,r.jsx)("div",{children:(0,r.jsx)("h1",{children:"New"})}),"settings"===e&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Settings"}),(0,r.jsx)("code",{children:(0,r.jsx)("pre",{children:JSON.stringify(n,null,2)})}),(0,r.jsx)("button",{onClick:()=>o(e=>({...e,settings:{...e.settings,showVersion:!e.settings.showVersion}})),children:"Toggle Version"})]}),a&&s&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"Current Tab URL:"}),(0,r.jsx)("p",{children:s}),s.includes("youtube.com")&&(0,r.jsx)("p",{children:"You're on YouTube!"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{onClick:()=>t("index"),children:"Home"}),(0,r.jsx)("button",{onClick:()=>t("new"),children:"New"}),(0,r.jsx)("button",{onClick:()=>t("settings"),children:"Settings"})]})]})}let l=(0,o.createContext)(),d="undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.id,GlobalStateProvider=e=>{let{children:t}=e,[n,s]=(0,o.useState)("index"),[a,i]=(0,o.useState)(""),[c,u]=(0,o.useState)({components:{},events:{data:{}},locale:{data:{}},storage:{data:{},type:"extension"},settings:{showVersion:!0}});(0,o.useEffect)(()=>{if(!d)return;let loadState=async()=>{try{let e=await chrome.storage.local.get(["y17godaraContentCreators"]);e.y17godaraContentCreators&&(u(e.y17godaraContentCreators),s(e.y17godaraContentCreators.activePage||"index"))}catch(e){console.error("Error loading state:",e)}},getCurrentTabUrl=async()=>{try{let[e]=await chrome.tabs.query({active:!0,currentWindow:!0});e&&e.url&&i(e.url)}catch(e){console.error("Error getting current tab URL:",e)}};loadState(),getCurrentTabUrl();let storageChangeListener=(e,t)=>{for(let[n,{oldValue:r,newValue:o}]of Object.entries(e))console.log('Storage key "'.concat(n,'" in namespace "').concat(t,'" changed.'),'Old value was "'.concat(JSON.stringify(r),'", new value is "').concat(JSON.stringify(o),'".'))};chrome.storage.onChanged.addListener(storageChangeListener);let tabChangeListener=(e,t,n)=>{"complete"===t.status&&n.active&&i(n.url||"")};return chrome.tabs.onUpdated.addListener(tabChangeListener),()=>{chrome.storage.onChanged.removeListener(storageChangeListener),chrome.tabs.onUpdated.removeListener(tabChangeListener)}},[]),(0,o.useEffect)(()=>{if(!d)return;let saveState=async()=>{try{await chrome.storage.local.set({y17godaraContentCreators:{...c,activePage:n}}),console.log("State saved")}catch(e){console.error("Error saving state:",e)}};saveState()},[c,n]);let h=(0,o.useCallback)(e=>{["index","new","settings"].includes(e)&&s(e)},[]),g=(0,o.useCallback)(e=>{u(t=>({...t,settings:{...t.settings,...e}}))},[]),x=(0,o.useMemo)(()=>({activePage:n,navigateToPage:h,satus:c,setSatus:u,updateSettings:g,currentTabUrl:a,currentTabUrl:a,isExtension:d}),[n,h,c,g,a,a,d]);return(0,r.jsx)(l.Provider,{value:x,children:t})},useGlobalState=()=>(0,o.useContext)(l);function HomeComponent(){return(0,r.jsxs)("main",{className:"container",children:[(0,r.jsx)(Header,{}),(0,r.jsx)(Popup,{}),(0,r.jsx)(Footer,{})]})}function Home(){return(0,r.jsx)(GlobalStateProvider,{children:(0,r.jsx)(HomeComponent,{})})}},4617:function(e){e.exports={footer:"Footer_footer__nR8_M",footerText:"Footer_footerText__2Z5sQ",footerLink:"Footer_footerLink__FSwqk"}},5348:function(e){e.exports={header:"Header_header__vV_Vo",headerText:"Header_headerText__O_4yl",headerLink:"Header_headerLink__KEwMI"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);